\section{Relationen}
Eine \emph{Relation} von \(A\) nach \(B\) ist ein Tripel
\[
R=(G,A,B)
\]
wobei \(A\) die Quellmenge, \(B\) die Zielmenge und \(G\subseteq A\times B\) der \emph{Graph} von \(R\) ist. Ist \(A=B\), so heisst \(R\) \emph{homogen} auf \(A\).

\subsection{Notation}
Sei \(R=(G,A,B)\) eine Relation von \(A\) nach \(B\).
\begin{itemize}
  \item Ist \(G\) der Graph von \(R\), so schreibt man \(G_R\)
  \item Ist \((x,y)\in G\), dann schreibt man \(xRy\) (\(x\) steht in Relation zu \(y\) bezüglich \(R\)).
  \item Sind \(A\) und \(B\) Teilmengen von \(\mathbb{R}\), so kann man \(R\) auch als Menge von Punkten in der Ebene darstellen: \(\{(x,y)\mid xRy\}\).\\
    % 1. x^2 = y^2
    \begin{tikzpicture}[scale=.45]
      \begin{axis}[axis lines=middle, xmin=-2, xmax=2, ymin=-2, ymax=2, width=5cm, height=5cm]
        \addplot[domain=-3:3, samples=100, blue!30] {x};
        \addplot[domain=-3:3, samples=100, blue!30] {-x};
      \end{axis}
      \node[anchor=south] at (current bounding box.north) {\tiny{$xRy: \Leftrightarrow x^2 = y^2$}};
    \end{tikzpicture}
    % 2. x^2 + y^2 = 1
    \begin{tikzpicture}[scale=.45]
      \begin{axis}[axis lines=middle, xmin=-2, xmax=2, ymin=-2, ymax=2, width=5cm, height=5cm]
        \addplot[domain=0:360, samples=200, blue!30] ({cos(x)}, {sin(x)});
      \end{axis}
      \node[anchor=south] at (current bounding box.north) {\tiny{$xRy: \Leftrightarrow x^2 + y^2 = 1$}};
    \end{tikzpicture}
  \item Als gerichteter Graph: Elemente von \(A\) und \(B\) als Knoten; für jedes \((x,y)\in G\) ein Pfeil \(x\to y\).\\
    \begin{tikzpicture}[main/.style = {draw, circle}] 
      \node[main] (1) {$1$}; 
      \node[main] (2) [right=0.5cm of 1] {$2$}; 
      \node[main] (3) [below=0.5cm of 1] {$3$}; 
      \node[main] (4) [right=0.5cm of 3] {$4$};
      \draw[->] (1) to (2);
      \draw[->] (1) to (3);
      \draw[->] (1) to (4);
      \draw[->] (2) to (4);
      \draw[->] (1) to [out=90,in=140,looseness=4] (1);
      \draw[->] (2) to [out=90,in=140,looseness=4] (2);
      \draw[->] (3) to [out=180,in=230,looseness=4] (3);
      \draw[->] (4) to [out=180,in=230,looseness=4] (4);
      \node[anchor=south] at (current bounding box.north) {\tiny{$xRy: \Leftrightarrow x \text{ teilt } y$}};
    \end{tikzpicture}
    \begin{tikzpicture}[main/.style = {draw, circle}] 
      \node[main] (1) {$1$}; 
      \node[main] (2) [right=0.5cm of 1] {$2$}; 
      \node[main] (3) [below=0.5cm of 1] {$3$}; 
      \node[main] (4) [right=0.5cm of 3] {$4$};
      \draw[<->] (1) to (3);
      \draw[<->] (2) to (4);
      \draw[->] (1) to [out=90,in=140,looseness=4] (1);
      \draw[->] (2) to [out=90,in=140,looseness=4] (2);
      \draw[->] (3) to [out=180,in=230,looseness=4] (3);
      \draw[->] (4) to [out=180,in=230,looseness=4] (4);
      \node[anchor=south] at (current bounding box.north) {\tiny{$xRy: \Leftrightarrow x+y \text{ ist gerade}$}};
    \end{tikzpicture} 
\end{itemize}


\subsection{Domäne und Bild}
Die Domäne und das Bild einer Relation geben an, welche Elemente der Quell- bzw. Zielmenge tatsächlich in der Relation vorkommen.
\begin{align*}
  \operatorname{dom}(R)&:=\operatorname{pr}_1(G_R)=\{a\in A\mid \exists b\in B(aRb)\}\\
  \operatorname{im}(R)&:=\operatorname{pr}_2(G_R)=\{b\in B\mid \exists a\in A(aRb)\}
\end{align*}
Im gerichteten Graphen entsprechen die Elemente der Domäne den Knoten mit ausgehenden Kanten, die des Bildes den Knoten mit eingehenden Kanten.


\subsection{Klassifizierungen}
Sei \(R\subseteq A\times A\) eine (homogene) Relation auf \(A\).

\subsubsection{Reflexivität}
Eine Relation \(R\) heisst \emph{reflexiv}, wenn jedes Element in Relation zu sich selbst steht:
\[\forall x\in A(xRx)\]
\begin{itemize}
    \item \(\{(a,a)\mid a\in A\}\subseteq R\).
    \item Im gerichteten Graphen hat jeder Knoten eine Kante zu sich selbst. Für jeden Wert \(x\in A\) gilt:
      \begin{tikzpicture}[main/.style = {draw, circle}] 
        \node[main] (x) {$x$};
        \draw[->] (x) to [out=90,in=140,looseness=4] (x);
      \end{tikzpicture}
    \item In der Koordinatendarstellung enthält \(R\) die Winkelhalbierende \(y=x\).
\end{itemize}

\subsubsection{Symmetrie}
Eine Relation \(R\) heisst \emph{symmetrisch}, wenn für alle \(x,y\in A\) gilt:
\[
  \forall x,y\;(xRy\Rightarrow yRx).
\]
\begin{itemize}
  \item Zu jedem Pfeil im gerichteten Graph existiert der umgekehrte Pfeil. Für alle \(x,y\in A\) gilt:\\
    \begin{tikzpicture}[main/.style = {draw, circle}] 
      \node[main] (x) {$x$};
      \node[main] (y) [right=0.5cm of x] {$y$};
      \draw[<->] (x) to (y);
    \end{tikzpicture}
  \item Symmetrie spiegelt die Koordinatendarstellung an der Geraden \(y=x\).
\end{itemize}

\subsubsection{Antisymmetrie}
Eine Relation \(R\) heisst \emph{antisymmetrisch}, wenn für
alle \(x,y\in A\) gilt:
\[
    \forall x,y\;(xRy\land yRx\Rightarrow x=y).
\]
\begin{itemize}
  \item Es gibt keine zwei verschiedenen Knoten, die wechselseitig verbunden sind.
    Für alle \(x,y\in A, x\neq y\) gilt:\\
    \begin{tikzpicture}[main/.style = {draw, circle}] 
      \node[main] (x) {$x$};
      \node[main] (y) [right=0.5cm of x] {$y$};
      \draw[->] (x) to (y);
    \end{tikzpicture}
\end{itemize}

\subsubsection{Transitivität}
Eine Relation \(R\) heisst \emph{transitiv}, wenn für jeden endlichen Pfad ein direkter Pfeil existiert. Für alle \(x,y,z\in A\) gilt:
\[
  \forall x,y,z\;(xRy\land yRz\Rightarrow xRz).
\]
\begin{itemize}
    \item Im gerichteten Graphen: Aus \(x\to y\) und \(y\to z\) folgt \(x\to z\). Für alle \(x,y,z\in A\) gilt:\\
      \begin{tikzpicture}[main/.style = {draw, circle}] 
        \node[main] (x) {$x$};
        \node[main] (y) [right=0.5cm of x] {$y$};
        \node[main] (z) [right=0.5cm of y] {$z$};
        \draw[->] (x) to (y);
        \draw[->] (y) to (z);
        \draw[->, dashed] (x) to [bend left] (z);
      \end{tikzpicture}
\end{itemize}

\subsubsection{Totalität und Eindeutigkeit}
Sei \(R\subseteq A\times B\) eine Relation von \(A\) nach \(B\) mit
\begin{itemize}
  \item \textbf{Linksvollständig / linkstotal:} \(\mathrm{dom}(R)=A\) (jedes Element in \(A\) hat min. eine \emph{ausgehende} Kante).
  \item \textbf{Rechtsvollständig / rechtstotal:} \(\mathrm{im}(R)=B\) (jedes Element in \(B\) hat min. eine \emph{eingehende} Kante).
  \item \textbf{Linkseindeutig:} \(\forall x_1,x_2,y\;(x_1Ry\land x_2Ry\Rightarrow x_1=x_2)\) (jedes Element in \(B\) hat max. eine \emph{eingehende} Kante).
  \item \textbf{Rechtseindeutig:} \(\forall x,y_1,y_2\;(xRy_1\land xRy_2\Rightarrow y_1=y_2)\) (jedes Element in \(A\) hat max. eine \emph{ausgehende} Kante).
\end{itemize}

\subsection{Inverse Relationen}
Für eine Relation $R = (G, A, B)$ ist die \emph{inverse Relation} definiert durch
\[
R^{-1} = (G', B, A), \quad G' := \{ (y,x) \mid (x,y) \in G \}.
\]
\textbf{Eigenschaften:}  
\begin{itemize}
    \item $(R^{-1})^{-1} = R$
    \item $R$ ist linksvollständig $\Leftrightarrow R^{-1}$ ist rechtsvollständig
    \item $R$ ist linkseindeutig $\Leftrightarrow R^{-1}$ ist rechtseindeutig
    \item Für jede symmetrische Relation $R$ gilt $R = R^{-1}$
\end{itemize}